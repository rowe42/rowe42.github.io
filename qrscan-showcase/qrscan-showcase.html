<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/granite-qrcode-scanner/granite-qrcode-scanner.html">


<dom-module id="qrscan-showcase">
    <template>
        <style>
            :host {
                display: block;
            }

        </style>
        <h2>Hier den QR-Code einscannen</h2>
        <granite-qrcode-scanner data="{{data}}" active="" continuous=""></granite-qrcode-scanner>
        <button class="btn btn-success" on-click="_fakeChanged">Fake Scan</button>
<!--            Link klicken zum Start:  <a href="[[data]]">[[data]]</a>-->
    </template>   

    <script>
        /**
         * `qrscan-showcase`
         * 
         *
         * @customElement
         * @polymer
         * @demo demo/index.html
         */
        class QrscanShowcase extends Polymer.Element {
            static get is() {
                return 'qrscan-showcase';
            }
            static get properties() {
                return {
                    prop1: {
                        type: String,
                        value: 'qrscan-showcase'
                    },
                    data: {
                        type: String,
                        value: '',
                        observer: '_dataChanged',
                    }
                };
            }

            _dataChanged(data) {
//                var myframe = document.querySelector('#myframe');
//                myframe.src = data;
                if (data !== '' ) window.location = data;
            }

            _fakeChanged() {
                this.data = 'http://test6.muenchen.de/familienpass';
            }
        }

        window.customElements.define(QrscanShowcase.is, QrscanShowcase);
    </script>
</dom-module>
